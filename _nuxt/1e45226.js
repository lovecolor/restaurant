(window.webpackJsonp=window.webpackJsonp||[]).push([[10,8],{388:function(e,t,n){var content=n(394);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(88).default)("58778860",content,!0,{sourceMap:!1})},393:function(e,t,n){"use strict";n(388)},394:function(e,t,n){var r=n(87)(!1);r.push([e.i,".table-card{width:100%;height:300px;display:flex;align-items:center;justify-content:center}.table-text{font-size:50px;font-weight:700}.table-un-delivered{background:#f56c6c}.table-delivered{background:#67c23a}.table-focus{border:5px solid red}",""]),e.exports=r},395:function(e,t,n){"use strict";n.r(t);var r={props:["tables","focus"],methods:{handleClickTable:function(table){this.$emit("clickTable",table)}}},o=(n(393),n(51)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"p-3",attrs:{gutter:20}},e._l(e.tables,(function(table,t){return n("el-col",{key:table.id||t,attrs:{span:8,xs:24}},[n("div",{on:{click:function(n){return e.handleClickTable(t)}}},[n("el-card",{class:["table-card mb-3",{"table-delivered":!!table.data&&!!table.delivered&&table.delivered},{"table-un-delivered":!!table.data&&!table.delivered},{"table-focus":t===e.focus}],attrs:{"body-style":{padding:"0px"}}},[n("span",{staticClass:"table-text"},[e._v("\n          "+e._s(table.id||t+1)+"\n        ")])])],1)])})),1)}),[],!1,null,null,null);t.default=component.exports},402:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(151);var o=n(184),c=n(114);function l(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(o.a)(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},403:function(e,t,n){var content=n(413);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(88).default)("1f620654",content,!0,{sourceMap:!1})},412:function(e,t,n){"use strict";n(403)},413:function(e,t,n){var r=n(87)(!1);r.push([e.i,".table-wrap{background:#fff;position:fixed;top:0;left:0;right:0;max-height:100%;z-index:1000;padding:1rem;overflow-y:auto}.el-icon-back{font-size:50px;color:#000}",""]),e.exports=r},443:function(e,t,n){"use strict";n.r(t);var r=n(402),o=n(2),c=(n(52),n(10),n(17),{data:function(){return{cart:[],showTable:!1,loading:null,tables:[]}},methods:{handleOrder:function(){this.fetchTables(),this.showTable=!0},startLoading:function(){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},stopLoading:function(){this.loading.close()},fetchTables:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.startLoading(),t.next=3,e.$fire.database.ref("tables").get();case 3:n=t.sent,r=n.val(),e.tables=r,e.stopLoading();case 7:case"end":return t.stop()}}),t)})))()},handleChooseTable:function(table){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTables();case 2:if(!e.tables[table]){t.next=5;break}return e.$message({showClose:!0,type:"error",message:"This table is occupied!!!"}),t.abrupt("return");case 5:return t.next=7,e.$fire.database.ref("tables/".concat(table)).set({createdDate:(new Date).getTime(),data:Object(r.a)(e.cart),delivered:!1});case 7:e.cart=[],e.$message({showClose:!0,type:"success",message:"Success"}),e.$router.push("tables/".concat(table));case 10:case"end":return t.stop()}}),t)})))()},handleIncreaseQuantity:function(e){e.price+=e.price/e.quantity,e.quantity++},handleDecreaseQuantity:function(e){1!==e.quantity&&(e.price-=e.price/e.quantity,e.quantity--)},handleRemoveProduct:function(e){this.cart=this.cart.filter((function(t){return t.id!=e.id}))}},created:function(){var e=JSON.parse(localStorage.getItem("cart"));this.cart=e},beforeDestroy:function(){localStorage.setItem("cart",JSON.stringify(this.cart))}}),l=c,d=(n(412),n(51)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",[n("nuxt-link",{attrs:{to:"/"}},[n("i",{staticClass:"el-icon-back"})])],1),e._v(" "),n("el-main",[n("div",{staticClass:"d-flex justify-content-center mb-1"},[n("h3",[e._v("CART")])]),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.cart,border:"","show-summary":""}},[n("el-table-column",{attrs:{prop:"name",label:"Name"}}),e._v(" "),n("el-table-column",{attrs:{prop:"quantity",label:"Quantity"}}),e._v(" "),n("el-table-column",{attrs:{prop:"price",label:"Price"}}),e._v(" "),n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"m-1",attrs:{icon:"el-icon-minus",size:"mini",type:"info"},on:{click:function(n){return e.handleDecreaseQuantity(t.row)}}}),e._v(" "),n("el-button",{staticClass:"m-1",attrs:{icon:"el-icon-plus",size:"mini",type:"info"},on:{click:function(n){return e.handleIncreaseQuantity(t.row)}}}),e._v(" "),n("el-button",{staticClass:"m-1",attrs:{size:"mini",type:"danger",icon:"el-icon-delete-solid"},on:{click:function(n){return e.handleRemoveProduct(t.row)}}})]}}])})],1),e._v(" "),n("div",{staticClass:"d-flex justify-content-center mt-3"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleOrder}},[e._v("ORDER")])],1),e._v(" "),n("transition",{attrs:{name:"el-zoom-in-center"}},[e.showTable?n("div",{staticClass:"table-wrap"},[n("div",[n("i",{staticClass:"el-icon-back",on:{click:function(t){e.showTable=!1}}})]),e._v(" "),n("div",{staticClass:"d-flex justify-content-center mb-3"},[n("h3",[e._v("Please choose your table !!!")])]),e._v(" "),n("tables",{attrs:{tables:e.tables},on:{clickTable:e.handleChooseTable}})],1):e._e()])],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Tables:n(395).default})}}]);